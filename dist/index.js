function init(){navigator.serviceWorker&&navigator.serviceWorker.register("./service_worker.js").then(function(){console.log("Service Worker registered")}).catch(function(e){console.log("Failed to register Service Worker"+e)}),document.querySelectorAll("[data-link]").forEach(function(e){e.addEventListener("click",showSection)}),document.querySelector("#gallery-link").addEventListener("focus",showGalleryMenu),history.replaceState({},"Home","#home"),window.addEventListener("popstate",change)}function showSection(e){e.preventDefault();let t=e.target.getAttribute("data-link");document.querySelector(".active").classList.remove("active"),handleBackground(t),handleNav(t),document.getElementsByClassName(t)[0].classList.add("active"),history.pushState({},"",`#${t}`)}function change(e){let t=location.hash.replace("#","");document.querySelector(".active").classList.remove("active"),document.getElementsByClassName(t)[0].classList.add("active"),handleBackground(t),handleNav(t)}function handleBackground(e){const t=document.querySelector("body");"home"===e?(t.style.background='url("images/for_web/violet_wall.jpg") no-repeat top center fixed',t.style.backgroundSize="cover"):t.style.background="black"}function handleNav(e){"home"!==e?(document.querySelector("header").classList.add("header--section"),document.querySelector(".navbar").classList.add("navbar--section")):(document.querySelector("header").classList.remove("header--section"),document.querySelector(".navbar").classList.remove("navbar--section"))}function showGalleryMenu(){this.setAttribute("aria-expanded","true"),document.querySelector("ul[aria-hidden]").setAttribute("aria-hidden","false")}document.addEventListener("DOMContentLoaded",init);